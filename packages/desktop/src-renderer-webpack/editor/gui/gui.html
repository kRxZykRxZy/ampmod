<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <style>
            .splash-screen {
                position: absolute;
                width: 100%;
                height: 100%;
                top: 0;
                left: 0;
                display: flex;
                align-items: center;
                justify-content: center;
                flex-direction: column;
                text-align: center;
                font-family: sans-serif;
                color: white;
                gap: 1rem;
            }
            .splash-screen[hidden],
            .tw-loaded .splash-screen {
                display: none;
            }
            .loading-dots {
                display: flex;
                gap: 0.5rem;
                margin-top: 1rem;
            }
            .loading-dots span {
                width: 12px;
                height: 12px;
                background-color: currentColor;
                border-radius: 50%;
                display: inline-block;
                animation: bounce 0.8s infinite ease-in-out;
            }
            .loading-dots span:nth-child(1) {
                animation-delay: 0s;
            }
            .loading-dots span:nth-child(2) {
                animation-delay: 0.2s;
            }
            .loading-dots span:nth-child(3) {
                animation-delay: 0.4s;
            }

            @keyframes bounce {
                0%,
                100% {
                    transform: translateY(0);
                }
                50% {
                    transform: translateY(-15px);
                }
            }
        </style>
    </head>
    <body>
        <div class="splash-screen" id="splash-waiting-for-js" hidden>
            <div class="loading-dots"><span></span><span></span><span></span></div>
        </div>

        <script>
            (function () {
                var theme = 'light';
                var accent = '#59c059';

                try {
                    var themeSetting = localStorage.getItem('amp:theme');
                } catch (e) {
                    // ignore
                }

                if (themeSetting) {
                    try {
                        var parsed = JSON.parse(themeSetting);
                        if (parsed.accent === 'purple') accent = '#855cd6';
                        if (parsed.accent === 'blue') accent = '#4c97ff';
                    } catch (e) {}
                }

                if (!theme) {
                    theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
                }

                var splash = document.getElementById('splash-waiting-for-js');
                splash.setAttribute('data-theme', theme);
                if (theme !== 'dark') splash.style.backgroundColor = accent;
                splash.hidden = false;
            })();
        </script>

        <div id="app"></div>

        <script>
            function webpackScriptError(event) {
                alert(`Error loading webpack script: ${event.target.src}`);
            }
        </script>
        <script src="index.js" onerror="webpackScriptError(event)"></script>
    </body>
</html>
